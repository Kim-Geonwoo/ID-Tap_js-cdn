document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("serviceModal");const t=document.getElementById("openModalBtn");const n=document.getElementById("closeModalBtn");t.addEventListener("click",(t=>{t.preventDefault();e.style.display="block"}));n.addEventListener("click",(()=>{e.style.display="none"}));window.addEventListener("click",(t=>{if(t.target===e){e.style.display="none"}}))}));document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".service-card");e.forEach((e=>{const t=e.dataset.serviceUuid;const n=e.querySelector(`#public-url-${t}`);const o=e.querySelector(`[data-preview-link-${t}]`);async function s(){if(!t){console.error("서비스 UUID가 없습니다.");return}try{const e=await fetch(`/get_service_url/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});const s=await e.json();if(s.success){if(n)n.value=s.public_url;if(o)o.href=s.preview_url}else{console.error("URL 가져오기 실패:",s.message)}}catch(e){console.error("URL 요청 중 오류:",e)}}s()}));function t(e){const t=document.getElementById(e);t.select();t.setSelectionRange(0,99999);navigator.clipboard.writeText(t.value).then((()=>{alert("링크가 복사되었습니다.")})).catch((e=>{console.error("복사 실패:",e);alert("링크 복사에 실패했습니다.")}))}function n(e){const t=encodeURIComponent("내 프로필 링크 공유");const n=encodeURIComponent(e);window.location.href=`mailto:?subject=${t}&body=${n}`}function o(e){const t=encodeURIComponent(`내 프로필을 확인해보세요: ${e}`);window.open(`https://wa.me/?text=${t}`,"_blank")}window.copyToClipboard=t;window.shareViaEmail=n;window.shareViaWhatsApp=o}));document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("limitInfoModal");const t=document.getElementById("limitInfoBtn");const n=document.getElementById("closeLimitModalBtn");t.addEventListener("click",(()=>{e.style.display="block"}));n.addEventListener("click",(()=>{e.style.display="none"}));window.addEventListener("click",(t=>{if(t.target===e){e.style.display="none"}}));const o=document.querySelectorAll(".deploy-btn");const s=document.querySelectorAll(".delete-deploy-btn");o.forEach((e=>{if(e.hasAttribute("disabled")){e.classList.add("btn-secondary");e.classList.remove("btn-primary")}}));s.forEach((e=>{if(e.hasAttribute("disabled")){e.classList.add("btn-outline-secondary");e.classList.remove("btn-danger")}}))}));document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loadingOverlay");const t=document.querySelectorAll("form");t.forEach((t=>{t.addEventListener("submit",(function(t){if(this.classList.contains("loading")){t.preventDefault();return}const n=this.querySelector('button[type="submit"]');if(n){n.classList.add("loading")}e.style.display="flex";setTimeout((()=>{e.style.display="none";if(n){n.classList.remove("loading")}}),3e4)}))}));const n=document.getElementById("serviceModal");if(n){const t=n.querySelector("form");if(t){t.addEventListener("submit",(function(t){if(this.classList.contains("loading")){t.preventDefault();return}const n=this.querySelector('button[type="submit"]');if(n){n.classList.add("loading")}e.style.display="flex";setTimeout((()=>{e.style.display="none";if(n){n.classList.remove("loading")}}),3e4)}))}}const o=window.fetch;window.fetch=function(){e.style.display="flex";return o.apply(this,arguments).finally((()=>{e.style.display="none"}))}}));